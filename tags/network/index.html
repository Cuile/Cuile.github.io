<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width"><script type=application/javascript src=https://blog.cuile.com/js/theme-mode.js></script><link rel=stylesheet href=https://blog.cuile.com/css/frameworks.min.css><link rel=stylesheet href=https://blog.cuile.com/css/github.min.css><link rel=stylesheet href=https://blog.cuile.com/css/github-style.css><link rel=stylesheet href=https://blog.cuile.com/css/light.css><link rel=stylesheet href=https://blog.cuile.com/css/dark.css><link rel=stylesheet href=https://blog.cuile.com/css/syntax.css><title>Network - 瘦了就帅了</title><link rel=icon type=image/x-icon href=/images/avatar.jpg><meta name=theme-color content="#1e2327"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.cuile.com/tags/network/><meta name=twitter:card content="summary"><meta name=twitter:title content="Network - 瘦了就帅了"><meta name=twitter:description content><meta name=twitter:site content="https://blog.cuile.com/"><meta name=twitter:creator content><meta name=twitter:image content="https://blog.cuile.com/"><meta property="og:type" content="website"><meta property="og:title" content="Network - 瘦了就帅了"><meta property="og:description" content><meta property="og:url" content="https://blog.cuile.com/tags/network/"><meta property="og:site_name" content="Network"><meta property="og:image" content="https://blog.cuile.com/"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><link href=/tags/network/index.xml rel=alternate type=application/rss+xml title=瘦了就帅了></head><body><div style=position:relative><header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on"><div class="Header-item mobile-none" style=margin-top:-4px;margin-bottom:-4px><a class=Header-link href=https://blog.cuile.com/><img class=octicon height=32 width=32 src=/images/avatar.jpg></a></div><div class="Header-item d-md-none"><button class="Header-link btn-link js-details-target" type=button onclick='document.querySelector("#header-search").style.display=document.querySelector("#header-search").style.display=="none"?"block":"none"'>
<svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button></div><div style=display:none id=header-search class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex"><div class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"><div class=position-relative><form target=_blank id=search-form accept-charset=UTF-8 method=get autocomplete=off><label class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center"><input type=text class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" name=q placeholder=Search autocomplete=off></label></form></div></div></div><div class="Header-item Header-item--full flex-justify-center d-md-none position-relative"><a class=Header-link href=https://blog.cuile.com/><img class="octicon octicon-mark-github v-align-middle" height=32 width=32 src=/images/avatar.jpg></a></div><div class=Header-item style=margin-right:0><a href=javascript:void(0) class="Header-link no-select" onclick=switchTheme()><svg style="fill:var(--color-profile-color-modes-toggle-moon)" class="no-select" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.52208 7.71754c3.05612.0 5.53362-2.47748 5.53362-5.5336C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961 9.95801 1.07727 10.3495.771159 10.6474.99992c1.4679 1.12724 2.4141 2.90007 2.4141 4.89391.0 3.40575-2.7609 6.16667-6.16665 6.16667-2.94151.0-5.40199-2.0595-6.018122-4.81523C.794841 6.87902 1.23668 6.65289 1.55321 6.85451 2.41106 7.40095 3.4296 7.71754 4.52208 7.71754z"/></svg></a></div></header></div><div id=search-result class="container-lg px-3 new-discussion-timeline" style=display:none></div><div class=application-main><div class="mt-4 position-sticky top-0 d-none d-md-block bg-white width-full border-bottom color-border-secondary" style=z-index:3><div class="container-xl px-3 px-md-4 px-lg-5"><div class="gutter-condensed gutter-lg flex-column flex-md-row d-flex"><div class="flex-shrink-0 col-12 col-md-3 mb-4 mb-md-0"></div><div class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0"><div class="UnderlineNav width-full box-shadow-none hx_UnderlineNav-with-profile-color-modes-banner"><nav class=UnderlineNav-body><a class=UnderlineNav-item href=https://blog.cuile.com/><svg class="octicon octicon-book UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M0 1.75A.75.75.0 01.75 1h4.253c1.227.0 2.317.59 3 1.501A3.744 3.744.0 0111.006 1h4.245a.75.75.0 01.75.75v10.5a.75.75.0 01-.75.75h-4.507a2.25 2.25.0 00-1.591.659l-.622.621a.75.75.0 01-1.06.0l-.622-.621A2.25 2.25.0 005.258 13H.75A.75.75.0 010 12.25V1.75zm8.755 3a2.25 2.25.0 012.25-2.25H14.5v9h-3.757c-.71.0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324.004-5.073-.002-2.253A2.25 2.25.0 005.003 2.5H1.5v9h3.757a3.75 3.75.0 011.994.574z"/></svg>
Overview
</a><a class=UnderlineNav-item href=https://blog.cuile.com/post><svg class="octicon octicon-repo UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5.0 014.5.0h8.75a.75.75.0 01.75.75v12.5a.75.75.0 01-.75.75h-2.5a.75.75.0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75.0 01-1.072 1.05A2.495 2.495.0 012 11.5v-9zm10.5-1V9h-8c-.356.0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25.0 00.4.2l1.45-1.087a.25.25.0 01.3.0L8.6 15.7a.25.25.0 00.4-.2v-3.25A.25.25.0 008.75 12h-3.5a.25.25.0 00-.25.25z"/></svg>
Posts
<span class=Counter>84</span></a></nav><div class="profile-color-modes js-promo-color-modes-banner-profile isInitialToggle"><svg width="106" height="60" viewBox="0 0 106 60" fill="none" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><g class="profile-color-modes-illu-group profile-color-modes-illu-red"><path d="M37.5 58.5v-1c0-7.732 6.268-14 14-14v0c7.732.0 14 6.268 14 14v1"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-orange"><path d="M104.07 58.5C103.401 55.092 97.7635 54.3869 95.5375 57.489 97.4039 54.6411 99.7685 48.8845 94.6889 46.6592 89.4817 44.378 86.1428 50.1604 85.3786 54.1158 85.9519 50.4768 83.7226 43.294 78.219 44.6737 72.7154 46.0534 72.7793 51.3754 74.4992 55.489 74.169 54.7601 72.4917 53.3567 70.5 52.8196"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-purple"><path d="M5.51109 58.5v-6c0-11.0457 8.95431-20 20.00001-20 5.9734.0 11.3353 2.6188 15 6.7709C40.7212 39.5089 40.9258 39.7521 41.1245 40"/><path d="M27.511 49.5c2.1667.0 1.4.0 5 0"/><path d="M27.511 56.5c2.1666.0-.599999999999998.0 3 0"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-green"><circle cx="5.5" cy="12.5" r="4"/><circle cx="18.5" cy="5.5" r="4"/><path d="M18.5 9.5v18"/><path d="M18.5 23.5C6 23.5 5.5 23.6064 5.5 16.5"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-blue"><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317 42.9939 24.5312 49.7417 26.6027 52.5428 30.2409 54.2551 29.8552 56.0796 29.6619 57.9731 29.6619 59.8169 29.6619 61.5953 29.8452 63.2682 30.211 66.0833 26.5913 72.799 24.5386 74.6117 27.2317 75.6839 28.8246 75.0259 33.7525 73.9345 37.5094 74.2013 37.9848 74.4422 38.4817 74.6555 39"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/><path d="M49.4996 33v2.6757"/><path d="M67.3375 33v2.6757"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/><path d="M49.4996 33v2.6757"/><path d="M67.3375 33v2.6757"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/><path d="M49.4996 33v2.6757"/><path d="M67.3375 33v2.6757"/></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236c1.471-2.0187 2.3109-4.6445 2.3109-7.9953.0-3.0054-.675700000000006-5.5795-1.8764-7.7189C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317 72.7989 11.5386 66.0832 13.5913 63.2681 17.211 61.5952 16.8452 59.8167 16.6619 57.973 16.6619 56.0795 16.6619 54.2549 16.8552 52.5427 17.2409 49.7416 13.6027 42.9938 11.5312 41.176 14.2317 40.0859 15.8512 40.7843 20.9182 41.9084 24.6968c-.9054 1.6748-1.4938 3.6097-1.6955 5.8032"/><path d="M82.9458 30.5471 76.8413 31.657"/><path d="M76.2867 34.4319 81.8362 37.7616"/><path d="M49.4995 27.8242v2.6757"/><path d="M67.3374 27.8242v2.6756"/></g><g class="profile-color-modes-illu-frame"><path d="M45.3697 34.2658c-3.482-2.1282-5.6584-5.6436-5.6584-11.0375.0-2.9182.637000000000001-5.4297 1.7732-7.5315C40.3605 11.9182 39.662 6.85125 40.7522 5.23168c1.8177-2.70051 8.5655-.62898 11.3666 3.00927 1.7122-.38574 3.5368-.57909 5.4303-.57909C59.3929 7.66186 61.1713 7.84519 62.8442 8.21095 65.6593 4.59134 72.375 2.5386 74.1877 5.23168 75.2599 6.82461 74.6019 11.7525 73.5105 15.5094 74.7112 17.6488 75.3869 20.2229 75.3869 23.2283c0 5.3939-2.1764 8.9093-5.6584 11.0375 1.1318 1.2705 2.8772 4.0898 3.5791 5.7342"/><path d="M49.0747 19.8242v2.6757"/><path d="M54.0991 28C54.6651 29.0893 55.7863 30.0812 57.9929 30.0812 59.0642 30.0812 59.8797 29.8461 60.5 29.4788"/><path d="M66.9126 19.8242v2.6757"/><path d="M33.2533 20.0237l5.819 2.153"/><path d="M39.1369 25.0058l-6.0434 2.3154"/><path d="M81.8442 19.022l-5.819 2.1531"/><path d="M75.961 24.0041 82.0045 26.3196"/></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236c1.471-2.0187 2.3109-4.6445 2.3109-7.9953.0-3.0054-.675700000000006-5.5795-1.8764-7.7189C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317 72.7989 11.5386 66.0832 13.5913 63.2681 17.211 61.5952 16.8452 59.8167 16.6619 57.973 16.6619 56.0795 16.6619 54.2549 16.8552 52.5427 17.2409 49.7416 13.6027 42.9938 11.5312 41.176 14.2317 40.0859 15.8512 40.7843 20.9182 41.9084 24.6968c-.9054 1.6748-1.4938 3.6097-1.6955 5.8032"/><path d="M82.9458 30.5471 76.8413 31.657"/><path d="M76.2867 34.4319 81.8362 37.7616"/><path d="M49.4995 27.8242v2.6757"/><path d="M67.3374 27.8242v2.6756"/></g><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317 42.9939 24.5312 49.7417 26.6027 52.5428 30.2409 54.2551 29.8552 56.0796 29.6619 57.9731 29.6619 59.8169 29.6619 61.5953 29.8452 63.2682 30.211 66.0833 26.5913 72.799 24.5386 74.6117 27.2317 75.6839 28.8246 75.0259 33.7525 73.9345 37.5094 74.2013 37.9848 74.4422 38.4817 74.6555 39"/></g></g></svg>
<span class="profile-color-modes-toggle js-promo-color-modes-toggle no-select" tabindex=0 onclick=switchTheme()><div class="profile-color-modes-toggle-track no-select"></div><div class="profile-color-modes-toggle-thumb js-promo-color-modes-thumb"><svg style="fill:var(--color-profile-color-modes-toggle-moon);margin:7px 0 0 7px" width="14" height="13" viewBox="0 0 14 13"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.52208 7.71754c3.05612.0 5.53362-2.47748 5.53362-5.5336C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961 9.95801 1.07727 10.3495.771159 10.6474.99992c1.4679 1.12724 2.4141 2.90007 2.4141 4.89391.0 3.40575-2.7609 6.16667-6.16665 6.16667-2.94151.0-5.40199-2.0595-6.018122-4.81523C.794841 6.87902 1.23668 6.65289 1.55321 6.85451 2.41106 7.40095 3.4296 7.71754 4.52208 7.71754z"/></svg></div></span></div></div></div></div></div></div><div class="container-xl px-3 px-md-4 px-lg-5"><div class="gutter-condensed gutter-lg flex-column flex-md-row d-flex"><div class="flex-shrink-0 col-12 col-md-3 mb-4 mb-md-0"><div class="h-card mt-md-n5" style=margin-top:24px><div class="user-profile-sticky-bar js-user-profile-sticky-bar d-none d-md-block" id=headerStuck><div class="user-profile-mini-vcard d-table"><span class="user-profile-mini-avatar d-table-cell v-align-middle lh-condensed-ultra pr-2"><img class="rounded-1 avatar-user" height=32 width=32 src=/images/avatar.jpg>
</span><span class="d-table-cell v-align-middle lh-condensed"><strong>瘦了就帅了</strong></span></div></div><div class="clearfix d-flex d-md-block flex-items-center mb-4 mb-md-0"><div class="position-relative d-inline-block col-2 col-md-12 mr-3 mr-md-0 flex-shrink-0" style=z-index:4><a href=/images/avatar.jpg><img style=height:auto alt=Avatar width=260 height=260 id=headerImg class="avatar avatar-user width-full border bg-white" src=/images/avatar.jpg></a></div><div class="vcard-names-container float-left col-10 col-md-12 pt-1 pt-md-3 pb-1 pb-md-3 js-sticky js-user-profile-sticky-fields" data-original-top=0px style=position:sticky><h1 class="vcard-names pl-2 pl-md-0"><span class="p-name vcard-fullname d-block overflow-hidden">瘦了就帅了</span>
<span class="p-nickname vcard-username d-block">Cuile</span></h1></div></div><div class="p-note user-profile-bio mb-3 js-user-profile-bio f4"><div>凡战者，以正合，以奇胜。</div></div><div class="d-flex flex-column"><div class="js-profile-editable-area d-flex flex-column d-md-block"><ul class=vcard-details><li class="vcard-detail pt-1 css-truncate css-truncate-target hide-sm hide-md"><svg class="octicon octicon-location" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M11.536 3.464a5 5 0 010 7.072L8 14.07l-3.536-3.535a5 5 0 117.072-7.072v.001zm1.06 8.132a6.5 6.5.0 10-9.192.0l3.535 3.536a1.5 1.5.0 002.122.0l3.535-3.536zM8 9a2 2 0 100-4 2 2 0 000 4z"/></svg>
<span class=p-label>China Beijing</span></li><li class="vcard-detail pt-1 css-truncate css-truncate-target"><svg class="octicon octicon-mail" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M1.75 2A1.75 1.75.0 000 3.75v.736a.75.75.0 000 .027v7.737C0 13.216.784 14 1.75 14h12.5A1.75 1.75.0 0016 12.25v-8.5A1.75 1.75.0 0014.25 2H1.75zM14.5 4.07v-.32a.25.25.0 00-.25-.25H1.75a.25.25.0 00-.25.25v.32L8 7.88l6.5-3.81zm-13 1.74v6.441c0 .138.112.25.25.25h12.5a.25.25.0 00.25-.25V5.809L8.38 9.397a.75.75.0 01-.76.0L1.5 5.809z"/></svg>
<a class="u-email link-gray-dark" href=mailto:i@cuile.com>i@cuile.com</a></li><li class="vcard-detail pt-1 css-truncate css-truncate-target"><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75.0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83.0.75.75.0 00-1.06 1.06 3.5 3.5.0 004.95.0l2.5-2.5a3.5 3.5.0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83.0.75.75.0 001.06-1.06 3.5 3.5.0 00-4.95.0l-2.5 2.5a3.5 3.5.0 004.95 4.95l1.25-1.25a.75.75.0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83.0z"/></svg>
<a rel="nofollow me" class=link-gray-dark href=https://blog.cuile.com>https://blog.cuile.com</a></li></ul></div></div><div class="border-top color-border-secondary pt-3 mt-3 clearfix hide-sm hide-md"><h2 class="mb-2 h4">Organizations</h2><div style=display:flex;justify-content:flex-start;flex-wrap:wrap;margin-bottom:3px><a style="margin:0 10px 10px 0" href=https://github.com/Cuile><svg id="github-icon" viewBox="0 0 16 16" width="32" height="32" fill="#24292e"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
</a><a style="margin:0 10px 10px 0" href=https://gitee.com/lecui><img alt=@个人简历 width=32 height=32 src=https://blog.cuile.com/images/link.png class=avatar>
</a><a style="margin:0 10px 10px 0" href=attachments/pdfs/_%e5%b4%94%e4%b9%90.pdf><img alt=@个人简历 width=32 height=32 src=https://blog.cuile.com/images/link.png class=avatar></a></div></div></div></div><div class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0"><div class="UnderlineNav user-profile-nav d-block d-md-none position-sticky top-0 pl-3 ml-n3 mr-n3 pr-3 bg-white" style=z-index:3><nav class=UnderlineNav-body><a class=UnderlineNav-item href=https://blog.cuile.com/><svg class="octicon octicon-book UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M0 1.75A.75.75.0 01.75 1h4.253c1.227.0 2.317.59 3 1.501A3.744 3.744.0 0111.006 1h4.245a.75.75.0 01.75.75v10.5a.75.75.0 01-.75.75h-4.507a2.25 2.25.0 00-1.591.659l-.622.621a.75.75.0 01-1.06.0l-.622-.621A2.25 2.25.0 005.258 13H.75A.75.75.0 010 12.25V1.75zm8.755 3a2.25 2.25.0 012.25-2.25H14.5v9h-3.757c-.71.0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324.004-5.073-.002-2.253A2.25 2.25.0 005.003 2.5H1.5v9h3.757a3.75 3.75.0 011.994.574z"/></svg>
Overview
</a><a class='UnderlineNav-item selected' href=https://blog.cuile.com/post><svg class="octicon octicon-repo UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5.0 014.5.0h8.75a.75.75.0 01.75.75v12.5a.75.75.0 01-.75.75h-2.5a.75.75.0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75.0 01-1.072 1.05A2.495 2.495.0 012 11.5v-9zm10.5-1V9h-8c-.356.0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25.0 00.4.2l1.45-1.087a.25.25.0 01.3.0L8.6 15.7a.25.25.0 00.4-.2v-3.25A.25.25.0 008.75 12h-3.5a.25.25.0 00-.25.25z"/></svg>
Posts
<span class=Counter>84</span></a></nav></div><div><div class=position-relative><div><div class="TableObject border-bottom border-gray-light py-3"><div class="user-repo-search-results-summary TableObject-item TableObject-item--primary v-align-top"><strong>4</strong>
results
for <strong>Network</strong></div><div class="TableObject-item text-right v-align-top"><a class="issues-reset-query text-normal d-inline-block ml-3" href=https://blog.cuile.com//post/><svg class="octicon octicon-x issues-reset-query-icon mt-1" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M3.72 3.72a.75.75.0 011.06.0L8 6.94l3.22-3.22a.75.75.0 111.06 1.06L9.06 8l3.22 3.22a.75.75.0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75.0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75.0 010-1.06z"/></svg>
Clear filter</a></div></div><ul><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://blog.cuile.com/post/openwrt/openwrt_ipv6/>OpenWRT 配置 IPv6</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>OpenWRT 配置 IPv6，在网上有许多教程，但大部分都说的不清不楚。
所以我从 OpenWRT 配置文件的角度，给出一个肯定能用的配置。
相关配置原理不详述，可自行上网查找。</p><h2 id=系统环境>系统环境</h2><ul><li>北京联通 300M 家宽 （客服说100元/月，可提供公网IPv4/IPv6地址，其实IPv6是免费给的）</li><li>OpenWRT（PVE虚机，非直通网卡）<ul><li>目标平台：x86/64</li><li>固件版本：OpenWrt 21.02.0 r16279-5cc0535800 / LuCI openwrt-21.02 branch git-23.093.57360-e98243e</li><li>内核版本：5.4.143</li><li>DHCPv6 客户端 (odhcp6c)</li><li>RA & DHCPv6 服务器 (odhcpd)</li><li>IPv6 防火墙 (ip6tables)</li><li>Luci网页配置 (luci-proto-ipv6)</li></ul></li></ul><h2 id=配置流程>配置流程</h2><ol><li>光猫桥接（电话联通，远程搞定）</li><li>OpenWRT WAN IPv6 配置</li></ol><blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># /etc/config/network</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#ae81ff>config interface &#39;lan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option proto &#39;static&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option ipaddr &#39;192.168.10.10&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option netmask &#39;255.255.255.0&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option device &#39;eth0&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option ip6assign &#39;64&#39;</span> <span style=color:#75715e># IPv6分配长度。要与 wan 口一致。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>config interface &#39;wan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option proto &#39;pppoe&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option username &#39;***********&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option password &#39;***********&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option device &#39;eth1&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option ipv6 &#39;auto&#39;</span> <span style=color:#75715e># 自动获取IPv6地址，使用这个选项后，会自动创建一个虚拟动态接口(WAN_6)，不用配置。</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option ip6assign &#39;64&#39;</span> <span style=color:#75715e># IPv6分配长度。参考 WAN_6 接口 IPv6-PD 的掩码长度，一般为“60”，比它大即可，系统默认为64。</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div></blockquote><ol start=3><li>OpenWRT 防火墙配置</li></ol><blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># /etc/config/firewall</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#ae81ff>config zone</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option name &#39;lan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>list network &#39;lan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option input &#39;ACCEPT&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option output &#39;ACCEPT&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option forward &#39;ACCEPT&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>config zone</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option name &#39;wan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>list network &#39;wan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option input &#39;DROP&#39;</span> <span style=color:#75715e># 关闭 wan 口输入流量</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option output &#39;ACCEPT&#39;</span> <span style=color:#75715e># 只出不进</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option forward &#39;REJECT&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option masq &#39;1&#39;</span> <span style=color:#75715e># 打开 NAT 功能</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option mtu_fix &#39;1&#39;</span> <span style=color:#75715e># 路由器直接拨号时使用</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#75715e># 转发规划很重要</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>config forwarding</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option src &#39;lan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option dest &#39;wan&#39;</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#75715e># 允许外网IPv6协议下，任意地址的547端口的UDP包通过wan口，访问本机546端口</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>config rule</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option name &#39;Allow-DHCPv6&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option proto &#39;udp&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option src &#39;wan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option src_port &#39;547&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option dest_port &#39;546&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option target &#39;ACCEPT&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option family &#39;ipv6&#39;</span>
</span></span></code></pre></div></blockquote><ol start=4><li>OpenWRT DHCP 配置</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># /etc/config/dhcp</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#ae81ff>config dhcp &#39;lan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option interface &#39;lan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option start &#39;100&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option dhcpv4 &#39;server&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option limit &#39;200&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option force &#39;1&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option leasetime &#39;2h&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option ra &#39;server&#39;</span> <span style=color:#75715e># RA服务 服务器模式</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option dhcpv6 &#39;server&#39;</span> <span style=color:#75715e># DHCPv6服务 服务器模式</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>list ra_flags &#39;none&#39;</span> <span style=color:#75715e># RA标记 无</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>config dhcp &#39;wan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option interface &#39;wan&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option ignore &#39;1&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>list ra_flags &#39;none&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>config odhcpd &#39;odhcpd&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option maindhcp &#39;0&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option leasefile &#39;/tmp/hosts/odhcpd&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option leasetrigger &#39;/usr/sbin/odhcpd-update&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>option loglevel &#39;4&#39;</span>
</span></span></code></pre></div><ol start=5><li>重启OpenWRT</li><li>查看 Luci -> 网络 -> 接口 -> LAN，已拿到的IPv6地址</li><li>测试本机外网IPv6地址，与 LAN 的 IPv6地址一致即可</li></ol><blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ curl 6.ipw.cn
</span></span></code></pre></div></blockquote><h2 id=参考文档>参考文档</h2><ul><li><a href=https://openwrt.org/docs/guide-user/network/ipv6/configuration>IPv6 configuration</a></li><li><a href=https://vicfree.com/2023/02/ipv6-explained-and-setup-in-openwrt/>IPv6 原理及如何设置 OpenWrt</a></li><li><a href=https://openwrt.org/zh-cn/doc/uci/firewall>如何配置防火墙</a></li><li><a href=https://openwrt.org/docs/guide-user/network/ipv6/start>IPv6</a></li></ul></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/firewall><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
firewall
</a><a class="muted-link mr-3" href=/tags/network><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
network
</a><a class="muted-link mr-3" href=/tags/ipv6><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
ipv6
</a><a class="muted-link mr-3" href=/tags/openwrt><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
openwrt
</a>Created
<relative-time datetime="Wed, 04 Oct 2023 19:48:18 +0800" class=no-wrap title=" Wed, 04 Oct 2023 19:48:18 +0800">Wed, 04 Oct 2023 19:48:18 +0800</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://blog.cuile.com/post/windows/hyper-v_network/>Hyper-V 网络设置</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><h2 id=1-网络配置的方法>1. 网络配置的方法</h2><ul><li>1.1 Hyper-V 安装完后，将自动创建一个“默认虚拟交换机”，并同时创建一个同名的虚拟网卡。<ul><li>此交换机名及虚拟网卡都无法修改，虚拟机直接填加即可使用网络。</li><li>虚拟机之间互联，再创建一个“内部交换机”，添加到虚拟机并设置同一网段即可。</li><li>缺点：速度较慢</li></ul></li><li>1.2 将宿主机物理网卡直接共享给“默认虚拟交换机”创建的虚拟网卡，是比较省事、且高效的方法，相当于在物理网卡上做了一个NAT转换。<ul><li>优点：“默认虚拟交换机”创建的虚拟网卡IP地址会自动固定为192.168.137.1，所有虚拟机的网段会固定为192.168.137.0。网速较快。</li><li>缺点：<ul><li>在多个物理网卡之间切换时非常不方便；</li><li>在ReviOS等第三方精简系统中，运作不稳定。</li></ul></li></ul></li><li>1.3 在宿主机使用无线网卡时，由于Hyper-V对无线网卡支持的不好，需要做以下操作：<ul><li>新建“外部虚拟交换机”：<ul><li>选择宿主机网卡。<ul><li>勾选“允许管理操作系统共享此网络适配器”。<ul><li>网速较快。</li><li>会在宿主机上创建一个网桥，一个虚拟网卡，且宿主机可同时上网。</li></ul></li><li>反之，则只会添加一个网桥，且宿主机无法同时上网。<ul><li>这是 Hyper-V 对无线网卡支持不够好的表现，而且网速很慢，慢到什么程度呢？慢到微信连文件都发不出去！</li></ul></li></ul></li></ul></li><li>新建“内部虚拟交换机”：<ul><li>会在宿主机上创建一个虚拟网卡。</li><li>将所有虚拟机都接入自建的“内部虚拟交换机”，可以解决IP变化的问题。</li></ul></li><li>在宿主机上，将“外部虚拟交换机”创建的虚拟网卡，共享给“内部虚拟交换机”创建的虚拟网卡。<ul><li>“内部虚拟交换机”创建的虚拟网卡IP地址会自动固定为192.168.137.1，所有虚拟机的网段会固定为192.168.137.0。</li></ul></li><li>在ReviOS等第三方精简系统中，运作不稳定。</li></ul></li></ul><h3 id=ps>PS:</h3><ul><li>如在宿主机同时安装了“Windows沙盒”功能，则沙盒会给每个物理网卡和虚拟网卡，都自动的再创建一个对应的虚拟网卡，容易造成混乱，使用中要注意。</li><li>Windows 网络共享重启会失效，这个BUG一直没有解决，需要如此解决：<ul><li>找到“Internet Connection Sharing”服务<ul><li>启动类型：自动</li></ul></li><li>找到注册表中“HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\SharedAccess”<ul><li>新建“DWORD(32位)值(D)”：EnableRebootPersistConnection</li><li>值（十六进制）：1</li></ul></li><li>重启电脑</li></ul></li><li>最好给每个虚拟机都设置外网DNS，比如1.2.4.8，因为hyper-v的DNS服务不是很稳定。</li></ul><h2 id=2-网络拓扑>2. 网络拓扑</h2><p>使用以下拓扑结构来，解决多个物理网卡随时切换的问题：
宿主机直连路由器，宿主机上创建一个虚拟路由器，和一个虚拟机，宿主机与虚拟机都通过虚拟路由器来上网。</p><table><thead><tr><th></th><th>TP Route</th><th>宿主机</th><th>OpenWRT</th><th>虚拟机</th></tr></thead><tbody><tr><td>WLAN</td><td>>DHCPIP: 192.168.10.113IP: 192.168.10.114mac: ac-8f</td><td>>BridgeIP: -mac: ac-8f</td><td>-</td><td>-</td></tr><tr><td>外部网络</td><td>-</td><td>>WLANIP: 192.168.10.113mac: ac-8f</td><td>>WLANIP: 192.168.10.114mac: 01-36</td><td>-</td></tr><tr><td>内部网络</td><td>-</td><td>>DHCPIP: 192.168.123.100mac: 01-28</td><td>>StaticIP: 192.168.123.1mac: 01-29</td><td>>DHCPIP: 192.168.123.102mac: 01-2c</td></tr><tr><td>网桥</td><td>-</td><td>>SwitchIP: -mac: ac-8f</td><td>-</td><td>-</td></tr></tbody></table><p>可以尝试使用网桥功能，解决多物理网卡切换的问题</p></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/network><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
network
</a><a class="muted-link mr-3" href=/tags/hyper-v><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Hyper-V
</a><a class="muted-link mr-3" href=/tags/windows><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
windows
</a>Created
<relative-time datetime="Mon, 26 Dec 2022 20:49:50 +0800" class=no-wrap title=" Mon, 26 Dec 2022 20:49:50 +0800">Mon, 26 Dec 2022 20:49:50 +0800</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://blog.cuile.com/post/alpine_linux/network/>Alpine Linux 网络设置</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><h2 id=网卡静态地址>网卡静态地址</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~# nano /etc/network/interfaces
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>auto lo</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iface lo inet loopback</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>auto eth0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iface eth0 inet static</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>address 192.168.10.16/24</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gateway 192.168.10.10</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hostname alpine</span>
</span></span></code></pre></div><h2 id=配置-dns>配置 DNS</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># nano /etc/resolv.conf</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>nameserver 114.114.114.114</span>
</span></span></code></pre></div><h2 id=重启网络>重启网络</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~# service networking restart
</span></span></code></pre></div></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/linux><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
linux
</a><a class="muted-link mr-3" href=/tags/network><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
network
</a><a class="muted-link mr-3" href=/tags/alpine-linux><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Alpine linux
</a>Created
<relative-time datetime="Sun, 19 Jun 2022 15:25:18 +0800" class=no-wrap title=" Sun, 19 Jun 2022 15:25:18 +0800">Sun, 19 Jun 2022 15:25:18 +0800</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://blog.cuile.com/post/linux/nmcli_manual/>使用 nmcli 配置网络</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p><strong><code>基于Centos 7</code></strong></p><h2 id=查看设备信息>查看设备信息</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 简单接口状态</span>
</span></span><span style=display:flex><span>$ nmcli dev status
</span></span><span style=display:flex><span><span style=color:#75715e># 详细的接口信息</span>
</span></span><span style=display:flex><span>$ nmcli dev show
</span></span><span style=display:flex><span><span style=color:#75715e># 接口的详细信息</span>
</span></span><span style=display:flex><span>$ nmcli dev show &lt;interface-name&gt;
</span></span></code></pre></div><h2 id=查看连接connection的信息>查看连接(connection)的信息</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 简单信息</span>
</span></span><span style=display:flex><span>$ nmcli conn show
</span></span><span style=display:flex><span><span style=color:#75715e># 详细的连接信息</span>
</span></span><span style=display:flex><span>$ nmcli conn show
</span></span><span style=display:flex><span><span style=color:#75715e># 某个连接的详细信息</span>
</span></span><span style=display:flex><span>$ nmcli conn show &lt;conn-name&gt;
</span></span></code></pre></div><h2 id=创建连接>创建连接</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nmcli conn add type &lt;ethernet&gt; con-name &lt;conn-name&gt; ifname &lt;dev-name&gt; ip4 &lt;192.168.100.100/24&gt; <span style=color:#f92672>[</span>gw4 &lt;192.168.100.1&gt;<span style=color:#f92672>]</span>
</span></span></code></pre></div><h2 id=修改配置>修改配置</h2><h3 id=静态ip改动态ip>静态IP改动态IP</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nmcli conn mod &lt;conn-name&gt; /
</span></span><span style=display:flex><span>    ipv4.method auto /
</span></span><span style=display:flex><span>    ipv4.address <span style=color:#e6db74>&#34;&#34;</span> /
</span></span><span style=display:flex><span>    ipv4.gateway <span style=color:#e6db74>&#34;&#34;</span> /
</span></span><span style=display:flex><span>    ipv4.dns <span style=color:#e6db74>&#34;&#34;</span>
</span></span></code></pre></div><h3 id=修改dns>修改DNS</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nmcli conn mod &lt;conn-name&gt; ipv4.dns <span style=color:#e6db74>&#34;1.2.4.8&#34;</span>
</span></span></code></pre></div><h3 id=设置自动连接>设置自动连接</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查询和显示所有网络连接的自动连接属性的当前值</span>
</span></span><span style=display:flex><span>$ nmcli -f name,autoconnect connection
</span></span><span style=display:flex><span><span style=color:#75715e># 更改网络连接的属性值</span>
</span></span><span style=display:flex><span>$ nmcli conn mod &lt;conn-name&gt; connection.autoconnect yes
</span></span></code></pre></div><h3 id=配置生效>配置生效</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nmcli conn up &lt;conn-name&gt;
</span></span></code></pre></div><h2 id=激活连接>激活连接</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nmcli conn up &lt;conn-name&gt;
</span></span><span style=display:flex><span>$ nmcli conn down &lt;conn-name&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ nmcli dev connect &lt;dev-name&gt;
</span></span><span style=display:flex><span>$ nmcli dev disconnect &lt;dev-name&gt;
</span></span></code></pre></div><blockquote><p>建议使用 nmcli dev disconnect interface-name 命令，而不是 nmcli con down connection-name 命令，因为连接断开可将该接口放到“手动”模式，这样做用户让 NetworkManager 启动某个连接前，或发生外部事件（比如载波变化、休眠或睡眠）前，不会启动任何自动连接。</p></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/cli><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
CLI
</a><a class="muted-link mr-3" href=/tags/nmcli><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
nmcli
</a><a class="muted-link mr-3" href=/tags/network><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
network
</a><a class="muted-link mr-3" href=/tags/linux><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Linux
</a>Created
<relative-time datetime="Mon, 17 Jan 2022 15:17:58 +0800" class=no-wrap title=" Mon, 17 Jan 2022 15:17:58 +0800">Mon, 17 Jan 2022 15:17:58 +0800</relative-time></div></div></li></ul><div class=paginate-container><div class=BtnGroup><button class="btn btn-outline BtnGroup-item" disabled>Previous</button>
<button class="btn btn-outline BtnGroup-item" disabled>Next</button></div></div></div></div></div></div></div></div><script>window.onscroll=function(){const n=document.querySelector("#headerImg"),t=document.querySelector("#headerStuck");n.getBoundingClientRect().bottom<=0?(t.classList.add("is-stuck"),window.innerWidth>=1280?t.setAttribute("style","top: 12px;"):t.setAttribute("style","top: 0;")):t.classList.remove("is-stuck")};var style=localStorage.getItem("data-color-mode");githubIconElement=document.getElementById("github-icon"),twitterIconElement=document.getElementById("twitter-icon"),style=="light"?(githubIconElement&&githubIconElement.setAttribute("fill","#24292e"),twitterIconElement&&twitterIconElement.setAttribute("fill","black")):(githubIconElement&&(githubIconElement.removeAttribute("fill"),githubIconElement.setAttribute("class","octicon"),githubIconElement.setAttribute("color","#f0f6fc")),twitterIconElement&&twitterIconElement.setAttribute("fill","white"))</script></div><div class="footer container-xl width-full p-responsive"><div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light"><a aria-label=Homepage title=GitHub class="footer-octicon d-none d-lg-block mr-lg-4" href=https://blog.cuile.com/><svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a><ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0"><li class="mr-3 mr-lg-0">Theme by <a href=https://github.com/MeiK2333/github-style>github-style</a></li><li class="mr-3 mr-lg-0">GitHub and the Invertocat logo are trademarks of <a href=https://github.com/>GitHub, Inc.</a></li></ul></div><div class="d-flex flex-justify-center pb-6"><span class="f6 text-gray-light"></span></div></div></body><script type=application/javascript src=https://blog.cuile.com/js/github-style.js></script><script src=https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js></script><script type=application/javascript src=https://blog.cuile.com/js/search.js></script></html>