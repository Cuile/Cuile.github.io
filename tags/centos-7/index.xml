<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Centos 7 on 瘦了就帅了</title><link>https://blog.cuile.com/tags/centos-7/</link><description>Recent content in Centos 7 on 瘦了就帅了</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 06 May 2022 13:11:27 +0800</lastBuildDate><atom:link href="https://blog.cuile.com/tags/centos-7/index.xml" rel="self" type="application/rss+xml"/><item><title>CentOS 7 安装 Python3.9.12</title><link>https://blog.cuile.com/posts/python/python3_install/</link><pubDate>Fri, 06 May 2022 13:11:27 +0800</pubDate><guid>https://blog.cuile.com/posts/python/python3_install/</guid><description>
1、卸载已安装的Python环境 # 查看已安装的信息 $ yum info python3 # 卸载已安装的程序 $ yum erase python3 # 删除所有残余文件 $ whereis python3|xargs rm -frv 查看现有的python $ whereis python 2、yum安装依赖环境 $ yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel 3、官网下载Python3.9.12 $ yum -y install wget # 尽量使用国内镜像站点下载比较快 $ wget https://mirrors.huaweicloud.com/python/3.9.12/Python-3.9.12.tgz 4、创建安装目录 $ tar -zxvf Python-3.9.12.tgz -C ./ $ cd Python-3.9.12 $ mkdir /usr/local/python3 $ ./configure --prefix=/usr/local/python3.9.12 $ make &amp;amp;&amp;amp; make install 5、创建软链接 $ ln -s /usr/local/python3.</description></item><item><title>CentOS 7 安装 Docker</title><link>https://blog.cuile.com/posts/docker/docker_install_centos/</link><pubDate>Fri, 06 May 2022 11:05:23 +0800</pubDate><guid>https://blog.cuile.com/posts/docker/docker_install_centos/</guid><description>
其实网上相关的文章已经非常多了，所以这篇文章的作用只是记录和明确一条确定可行的操作路径，为以后的操作节省时间，毕竟像我一样大部分人都不是专业的系统管理员，能够快速解决问题就可以了，并不想做过多的专业研究与探索。
本操作手册是官方手册与网上手册的结合版本，集两家之所长，亲自操作可用。
1.系统准备 查看系统版本 $ cat /etc/redhat-release &amp;gt; CentOS Linux release 7.6.1810 (Core) // CentOs 7 以上版本 查看系统内核版本 $ uname -r &amp;gt; 4.10.4-1.el7.elrepo.x86_64 // 内核版本要&amp;gt;3.10 2.卸载旧版本 $ yum remove docker \ docker-client \ docker-client-latest \ docker-common \ docker-latest \ docker-latest-logrotate \ docker-logrotate \ docker-selinux \ docker-engine-selinux \ docker-engine 3.安装依赖包 $ yum install -y yum-utils \ device-mapper-persistent-data \ lvm2 4.</description></item><item><title>Linux 版本库管理</title><link>https://blog.cuile.com/posts/centos/linux_repo_manual/</link><pubDate>Tue, 08 Feb 2022 10:28:50 +0800</pubDate><guid>https://blog.cuile.com/posts/centos/linux_repo_manual/</guid><description>
脚本基于Centos 7
查看已安装软件 $ yum list installed 升级所有包同时也升级软件和系统内核 $ yum -y update 只升级所有包，不升级软件和系统内核 $ yum -y upgrade 更换阿里云软件安装源 # 备份原镜像文件，以免出错后可以恢复。 $ mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.back # 下载新的CentOS-Base.repo 到/etc/yum.repos.d/ $ wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo # 运行yum makecache生成缓存 $ yum clean all $ yum makecache 查看源是否生效 $ yum repolist 查询仓库 # 显示所有启动的仓库 $ yum repolist enabled # 显示所有禁用的仓库 $ yum repolist disabled # 显示所有仓库 $ yum repolist all 修改仓库 最常用的修改操作就是启动和停用, 可以使用以下命令实现:
$ yum-config-manager --enable repository… $ yum-config-manager --disable repository…</description></item><item><title>Linux系统内核升级</title><link>https://blog.cuile.com/posts/centos/linux_kernel_update/</link><pubDate>Tue, 08 Feb 2022 10:17:48 +0800</pubDate><guid>https://blog.cuile.com/posts/centos/linux_kernel_update/</guid><description>
脚本基于Centos 7
1、查看系统内核版本 $ uname -r 3.10.0-514.26.2.el7.x86_64 $ cat /etc/redhat-release CentOS Linux release 7.6.1810 (Core) 2、升级内核 导入elrepo的key，然后安装elrepo的yum源
$ rpm -import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org $ rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm 查看可用的内核相关包
$ yum --disablerepo=&amp;#34;*&amp;#34; --enablerepo=&amp;#34;elrepo-kernel&amp;#34; list available 主分支ml(mainline)，稳定版(stable)，长期维护版lt(longterm) 安装内核
$ yum -y --enablerepo=elrepo-kernel install kernel-ml.x86_64 kernel-ml-devel.x86_64 3、修改grub $ awk -F\&amp;#39; &amp;#39;$1==&amp;#34;menuentry &amp;#34; {print $2}&amp;#39; /etc/grub2.cfg CentOS Linux (5.2.11-1.el7.elrepo.x86_64) 7 (Core) CentOS Linux (3.10.0-957.27.2.el7.x86_64) 7 (Core) CentOS Linux (3.10.0-514.26.2.el7.x86_64) 7 (Core) CentOS Linux (3.10.0-514.el7.x86_64) 7 (Core) CentOS Linux (0-rescue-963c2c41b08343f7b063dddac6b2e486) 7 (Core) # 新内核（5.</description></item><item><title>iptables 命令</title><link>https://blog.cuile.com/posts/centos/linux_iptables_manual/</link><pubDate>Tue, 08 Feb 2022 10:09:48 +0800</pubDate><guid>https://blog.cuile.com/posts/centos/linux_iptables_manual/</guid><description>
脚本基于Centos 7
注意：CentOS 7默认的防火墙不是iptables,而是firewalld
停止firewalld服务 #停止firewalld服务 $ systemctl stop firewalld #禁用firewalld服务 $ systemctl mask firewalld 安装 iptables #先检查是否安装了iptables $ service iptables status #安装iptables $ yum install -y iptables #升级iptables $ yum update iptables #安装iptables-services $ yum install iptables-services 启动 iptables #注册iptables服务，相当于以前的chkconfig iptables on $ systemctl enable iptables.service #开启服务 $ systemctl start iptables.service #查看状态 $ systemctl status iptables.service 创建规则 # 允许ping $ iptables -A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT # or $ iptables -A INPUT -p icmp -j ACCEPT # 允许本地回环接口(即运行本机访问本机) $ iptables -A INPUT -s 127.</description></item><item><title>使用 nmcli 配置网络</title><link>https://blog.cuile.com/posts/centos/linux_nmcli_manual/</link><pubDate>Mon, 17 Jan 2022 15:17:58 +0800</pubDate><guid>https://blog.cuile.com/posts/centos/linux_nmcli_manual/</guid><description>
脚本基于Centos 7
查看接口设备信息 # 简单接口状态 $ nmcli dev status # 详细的接口信息 $ nmcli dev show # 接口的详细信息 $ nmcli dev show interface-name 查看连接(connection)的信息 # 简单信息 $ nmcli con show # 详细的连接信息 $ nmcli con show # 某个连接的详细信息 $ nmcli con show con-name 创建连接 $ nmcli con add type ethernet con-name static-vm100 ifname eth0 ipv4 192.168.100.100/24 gw4 192.168.100.1 激活连接 $ nmcli con up static-vm100 参考链接 https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/7/html/networking_guide/sec-using_the_networkmanager_command_line_tool_nmcli https://www.jianshu.com/p/5d5560e9e26a</description></item><item><title>Linux系统命令</title><link>https://blog.cuile.com/posts/centos/linux_cli_manual/</link><pubDate>Mon, 17 Jan 2022 11:07:07 +0800</pubDate><guid>https://blog.cuile.com/posts/centos/linux_cli_manual/</guid><description>
脚本基于Centos 7
系统进程操作 查看CPU和内存使用情况 # 定位高CPU占用 $ ps H -eo user,pid,ppid,tid,time,%cpu,cmd --sort=%cpu # 可视化显示CPU的使用状况的工具 $ yum install -y htop $ htop 磁盘操作 查询并筛选 磁盘空间 统计 排序 # 修改硬盘挂载目录 # 卸载硬盘 $ umount -v /mnt/raid1-2disk-500G # 修改挂载目录 $ mv /mnt/raid1-2disk-500G /mnt/raid1-250G-2disk # 修改/etc/fstab文件里的挂载目录 $ nano /etc/fstab # 重装挂载 $ mount -av /dev/md127 /mnt/raid1-250G-2disk 网络端口操作 # 查看端口占用 # 查看所有端口占用情况 $ netstat -tlunp # 查看指定端口占用情况 $ netstat -tlunp | grep &amp;lt;port&amp;gt; 文件操作 文件截取 系统设置操作 # systemctl命令 systemctl list-units ##列出当前系统服务的状态 systemctl list-unit-files ##列出服务的开机状态 systemctl status sshd ##查看指定服务的状态 systemctl stop sshd ##关闭指定服务 systemctl start sshd ##开启指定服务 systemctl restart sshd ##从新启动服务 systemctl enable sshd ##设定指定服务开机开启 systemctl disable sshd ##设定指定服务开机关闭 systemctl reload sshd ##使指定服务从新加载配置 systemctl list-dependencies sshd ##查看指定服务的倚赖关系 systemctl mask sshd ##冻结指定服务 systemctl unmask sshd ##启用服务 systemctl set-default multi-user.</description></item></channel></rss>